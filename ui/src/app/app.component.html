<div fxLayout="column" fxFill>

  <div [style.display]="(isLoading | async) ? 'block' : 'none'" class="progress-bar">
    <mat-progress-bar mode="indeterminate" ></mat-progress-bar>
  </div>
  <mat-toolbar>
    <!-- Application menu-->
    <div fxFlex fxLayout="row" fxLayoutAlign="space-between center">
      <div fxLayout="row" fxLayoutAlign="start center">
        <button mat-icon-button (click)="snav.toggle()">
            <mat-icon>menu</mat-icon>
        </button>
        <h1>{{title}}</h1>
      </div>

      <!-- Settings menu-->
      <div>
        <button mat-icon-button [matMenuTriggerFor]="settingsMenu">
          <mat-icon>more_vert</mat-icon>
        </button>
        <mat-menu #settingsMenu="matMenu">
          <button mat-menu-item (click)="setTheme('indigo-pink-light')">Light</button>
          <button mat-menu-item (click)="setTheme('blue-dark')">Dark</button>
        </mat-menu>
      </div>
    </div>
  </mat-toolbar>

  <mat-drawer-container fxFlex fxLayout="column" (backdropClick)="snav.close()"> 
    <mat-drawer #snav [mode]="mobileQuery.matches ? 'over' : 'push'">
      <h3 matSubheader>Admin</h3>
      <mat-nav-list>
        <a mat-list-item routerLink="equitycatalog">Equity Catalog</a>
        <a mat-list-item routerLink="summary">Summary</a>
      </mat-nav-list>
      <mat-divider></mat-divider>

    </mat-drawer>

    <mat-drawer-content> 
        <div fxFlex fxLayout="column">
          <router-outlet></router-outlet>
        </div>
    </mat-drawer-content>
  </mat-drawer-container>
    
    
</div>